<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .current{
            background-color: #f40;
        }
    </style>
    <style>
    
        .inputGroup {
            border: 1px solid #000;
            padding:20px;
        }
        .inputGroup input{
            margin: 10px;
            border: 1px solid #000;
        }
        
    </style>
    <style>
        .detailBox{
            width: 60px;

        }
        .detailTitle{
            padding: 20px;
            border: 1px solid #000;
            background-color: skyblue;
        }

        .detailTitle h3{
            border: 1px solid #000;
        }
        
        .detailContent{
            display: none;
            border: 1px solid #ccc;
            padding: 20px;
        }
    </style>
    <!-- 拖拽案例 -->
    <style>
        .dragDrop{
            position: absolute;
            top: 10px;
            left: 10px;
            width: 100px;
            height: 100px;
            background: orange;
            cursor: pointer;
        }
    </style>

    <style>
        .moveEle{
            position: absolute;
            top: 350px;
            left: 500px;
            width: 100px;
            height: 100px;
            background: red;
            cursor: pointer;
        }
    </style>

    <!-- 放大镜案例 -->
    <style>
    
        .smallBox{
            width: 400px;
            height: 400px;
            position: relative;
        }
        .smallBox img{
            width:100%;
            height:100%;
        }
        .bigBox{
            display: none;
            position: absolute;
            left: 0;
            top: 0;
            width: 400px;
            height: 400px;
            overflow: hidden;
        }

        .bigBox img{
            width: 1600px;
            height: 1600px;
        }
        
        .zoom {
            width: 100px;
            height: 100px;
            background-color: #000;
            opacity: 0.5;
            display: none;
            position: absolute;
            left: 0;
            top: 0;
            cursor: move;
        }
        
        
    </style>
    
</head>
<body>

    <button class="btn">按钮</button>
    <button class="unbtn">解除事件按钮</button>

    <ul class="Entrust triggerUlLi">
        <li>i-D、New York Times、Vogue</li>
        <li>i-D、New York Times、Vogue</li>
        <li>i-D、New York Times、Vogue</li>
        <li>i-D、New York Times、Vogue</li>
        <li>i-D、New York Times、Vogue</li>
        <li>i-D、New York Times、Vogue</li>
        <li>i-D、New York Times、Vogue</li>
        <li>i-D、New York Times、Vogue</li>
    </ul>

    <input type="text" class="InputVal">
    <button class="addBtn">添加事件</button>
    

    <button class="triggerBtn">trigger</button>
    <button class="triggerBtn1">trigger1</button>
    
    <input type="text" class="triggerHandler">
    <button class="triggerHandlerBtn">获取triggerHandler的focus</button>

    <button class="totalBtn">触发集合事件trigger</button>
    
    
    <div class="inputGroup">
        <input type="text">
    </div>

    <div class="detail-box">
        <div class="detailTitle">
            <h3>详细内容</h3>
        </div>
        <div class="detailContent">
            Lorem insum dolor sit amet, consectertur, adipisicing;
            Lorem insum dolor sit amet, consectertur, adipisicing;
            Lorem insum dolor sit amet, consectertur, adipisicing;
        </div>
    </div>
    


    <!-- <a id="preventDefault" href="">改变背景</a> -->
    <a id="preventDefault" href="">改变背景</a>
    
    <div class="dragDrop moveEle"></div>

    <script src="./jQuery/jquery3.4.1.min.js"></script>
    <script>
        // 事件绑定    
            // on
                // on标准用法;
                // $('.btn').on('click',function() {
                //     console.log('onClick');
                // })

                // on绑定多个事件;
                // $('.btn').on({
                //     'click' : function () {
                //         console.log('onClick');
                //     },
                //     'mouseover' : function () {
                //         console.log('onMouse');
                //     },
                //     'dblclick' : function () {
                //         console.log('onDBlClick');
                //     }
                // })

            // one
                // $('.btn').one('dblclick',function() {
                //     console.log('oneDBClick');
                // })
                
                        
        // 解除事件绑定
            // off()
            // $('.unbtn').on('click',function () {
            //     // 解除所有事件
            //     $('.btn').off();
            //     // 解除滑入事件
            //     $('.btn').off('mouseover');
            // })
        
        
        // 事件委托
            // 普通方式, 新添加的元素没有相应的事件, 只有$('.Entrust li')选择的这些元素有绑定事件;
            // $('.Entrust li').on('click',function () {
            //     $(this).toggleClass('current');
            // })

            // 事件委托的方式, 新添加的元素会绑定相应的事件;
            // $('.Entrust').on('click','li',function () {
            //     $(this).toggleClass('current');
            // })
            
            // $('.addBtn').click(function () {
            //     $('<li></li>').html($('.InputVal').val()).appendTo('.Entrust');
            // })
            
            
        // 控制事件触发    
            
            // trigger()
                // $('.triggerBtn').click(function () {
                //     console.log('clickHandler');
                // })
                
                // $('.triggerBtn').mouseover(function () {
                //     console.log('mouseoverHandle');
                // })

                
                
                // $('.triggerBtn1').click(function () {
                //     // 触发别的元素的事件, 以下皆可行;
                //     // $('.triggerBtn').trigger('click');
                //     // $('.triggerBtn').trigger('mouseover');
                //     // $('.triggerBtn')[0].click();
                //     // $('.triggerBtn').mouseover();
                // })

            // triggerHndle();
                // console.log($('.triggerBtn').triggerHandler('click'))
                // triggerHandler 和 trigger功能相同, 有以下几点区别;
                    // trigger返回jQuery对象, 可以链式操作, triggerHandler返回值是Undefined;
                    // trigger可以触发元素自带事件(比如: 表单事件, 提交按钮, 输入框的focus), triggerHandler 无法触发;
                        // $('.triggerHandlerBtn').click(function(){
                        //     $('.triggerHandler').trigger('focus');
                        //     $('.triggerHandler').triggerHandler('focus');
                        // })
                    // trigger会触发集合中所有元素事件, triggerHandler只会触发集合中第一个元素的事件;
                        // $('.triggerUlLi li').click(function () {
                        //     console.log($(this).index());
                        // });
                        // $('.totalBtn').click(function () {
                        //     // $('.triggerUlLi li').trigger('click');
                        //     // $('.triggerUlLi li').triggerHandler('click');
                        // })
            
            
        // 事件列表  
            
            // ready();  页面中DOM加载完毕
            // focusin();   绑定给输入框父元素的获取焦点事件;
                // $('.inputGroup').on('focusin',function(){
                //     $(this).css('background-color', 'red');
                // })
            // focusout();  绑定给输入框父元素的失去焦点事件;
                // $('.inputGroup').on('focusout',function(){
                //     $(this).css('background-color', 'transparent');
                // })
            // mouseenter();    类似于mouseover;
                // enter当鼠标划入当前元素或者其子元素时都会触发;
                // over 当鼠标划入当前元素时触发;
                // $('.detailTitle').on('mouseover',function () {
                //     $(this).next().slideDown();
                // }).on('mouseout', function () {
                //     $(this).next().slideUp();
                // })
                
                // $('.detailTitle').on('mouseenter',function () {
                //     $(this).next().slideDown();
                // }).on('mouseleave', function () {
                //     $(this).next().slideUp();
                // })
                
                
            // mouseleave();    类似于mouseout;
            

            // blur();  失去焦点时触发;
            // change();   元素发生改变时触发;
            // click();    点击时触发;
            // dblclick();     双击时触发;
            // focus();    获取焦点时触发;
            // keydown();  键盘按下时触发;
            // keypress(); 和keydown事件类似按下时触发, 没插入一个字符都会发生press事件;
            // keyup();    键盘抬起时触发;
            // mousedown();    鼠标按下时触发;
            // mouseup();  鼠标抬起时触发;
            // mousemove();    鼠标滑动时触发;
            // resize();   大小改变时触发;
            // scroll();   鼠标滚动时触发;
            // select();   当textarea或文本类型的input元素中的文本被选择时触发;
            // submit();   提交表单时触发;
            // hover();     此事件相当于mouseenter + mouseleave;
            // toggle();   匹配多个事件处理函数, 详情见jQuery动画(277);
            
            
        // 事件对象
            $(document).on({
                'click': function (event) {
                    // pageX   鼠标光标的水平坐标, 类似于原生的clientX;
                        // console.log(event.pageX);
                        
                    // pageY   鼠标光标的纵向坐标, 类似于原生的clientY;
                        // console.log(event.pageY);
                    
                    // target   事件源
                        // console.log(event.target);
                
                    
                },
                'keypress' : function (event) {
                    // which   键盘按键的阿斯克码
                        // console.log(event.which);
                    
                    // type 事件类型
                        // console.log(event.type);
                }
            })
            

            // preventDefault();    阻止默认事件
                // $('#preventDefault').on('click',function (event) {
                //     // 点击a链接时如果href为空就会空跳转一次刷新一次页面, 所以后面的css设置就会被空跳转覆盖而失效;
                //     event.preventDefault();
                //     $(document.body).css('background-color','red');
                // })
            
            // stopPropagation();  阻止冒泡
                // $('#preventDefault').on('click',function (event) {
                //     event.preventDefault();
                //     阻止document的单击事件发生(阻止冒泡);
                //     event.stopPropagation();
                // })
            
            // return false 既能阻止事件冒泡,又能阻止默认操作;
                // $('#preventDefault').on('click',function (event) {
                //     $(document.body).css('background-color','red');
                //     return false;
                // })
            
            





        // 案例
            // 拖拽案例;
                // $(function () {
                //     $('.dragDrop').on({
                //         'mousedown': function (event) {
                //             // 按下半透明;
                //             $(this).css('opacity','0.5');
                //             var offsetX = event.pageX - $(this).offset().left,
                //                 offsetY = event.pageY - $(this).offset().top;
                //             // 鼠标移动事件;
                //             $(this).on('mousemove',function (ev) {
                //                 var x = ev.pageX - offsetX,
                //                     y = ev.pageY - offsetY;
                //                 $(this).offset({
                //                     left: x,
                //                     top: y,
                //                 })
                //             })
                //         },
                //         'mouseup': function () {
                //             $(this).css('opacity','1');
                //             $(this).off('mousemove');
                //         },
                //     })
                // })
            
            // 键盘控制元素移动;

                // 上: 38
                // 右: 39
                // 下: 40
                // 左: 37
            
            
                // $(function () {
                //     // 计算页面的宽高;
                //     var pWidth = $(window).width(),
                //         pHeight = $(window).height();
                //     $(document).on('keydown', function (event) {
                //         console.log(event.which);
                //         // 获取目前位置;
                //         var curLeft = $('.moveEle').offset().left,
                //             curTop = $('.moveEle').offset().top;
                //         switch(event.which) {
                //             case 38:
                //                 $('.moveEle').offset({
                //                     top: Math.max(curTop - 20,0)
                //                 })
                //                 break;
                //             case 39:
                //                 $('.moveEle').offset({
                //                     left: Math.min(curLeft + 20,pWidth - $('.moveEle').width())
                //                 })
                //                 break;
                //             case 40:
                //                 $('.moveEle').offset({
                //                     top: Math.min(curTop + 20,pHeight - $('.moveEle').height())
                //                 })
                //                 break;
                //             case 37:
                //                 $('.moveEle').offset({
                //                     left: Math.max(curLeft - 20,0)
                //                 })
                //         }
                        
                //     })
                // })
                
                
            // 放大镜案例
                // $(function () {
                //     // 创建元素;
                //     var $smallBox = $('<div class="smallBox">'),
                //         $bigBox = $('<div class="bigBox"></div>'),
                //         $smallImage = $('<img src="./images/FDJMaterial.jpg" alt="">'),
                //         $bigImage = $('<img src="./images/FDJMaterial.jpg" alt="">'),
                //         $zoom = $('<div class="zoom"></div>');
                //     $(document.body).html($smallBox.append($smallImage).append($zoom)).append($bigBox.append($bigImage));
                    
                    
                //     $smallBox.on('mouseenter', function (event) {
                //         var smallLeft = $smallBox.offset().left,
                //             smallTop = $smallBox.offset().top;
                //             // 计算鼠标在小图上的位置
                            
                //         $zoom.show();
                //         $bigBox.show().offset({
                //             left : smallLeft + 400 + 10,
                //             top : smallTop,
                //         })

                //         $(this).on('mousemove', function (event) {
                //             // 计算鼠标在小图的位置;
                //             var sLeft = event.pageX - smallLeft,
                //                 sTop = event.pageY - smallTop,
                //                 // 计算放大镜位置;
                //                 zLeft = Math.min(Math.max(sLeft - $zoom.width()/2,0), $smallBox.width() - $zoom.width()),
                //                 zTop = Math.max(Math.min(sTop - $zoom.height()/2, $smallBox.width() - $zoom.width()), 0);

                //             // 这里需要注意计算放大镜元素, 小图元素, 大图元素比例;
                //             $bigBox.scrollLeft(zLeft * 4).scrollTop(zTop * 4);

                //             $zoom.css({
                //                 'left' : zLeft + 'px',
                //                 'top' : zTop + 'px',
                //             });  
                //         })
                        
                //     }).on('mouseleave', function () {
                //         $zoom.hide();
                //         $bigBox.hide();
                //     })
                // })
                
            
    </script>
    
    
    
    
    
    
    
    
    
</body>
</html>